"use strict";(self.webpackChunkcubdefi_frontend=self.webpackChunkcubdefi_frontend||[]).push([[181],{70668:function(e,n,a){var i=a(74165),t=a(15861),r=a(70885),d=a(47313),c=a(82229),o=a(31881),s=a.n(o),l=a(1689);n.Z=function(){var e=(0,d.useState)(),n=(0,r.Z)(e,2),a=n[0],o=n[1],u=(0,c.Ge)().account,x=(0,l.Z)().fastRefresh;return(0,d.useEffect)((function(){var e=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("https://bnb.fbslo.net/?address=".concat(u),{timeout:7e3}).then((function(e){return e.data})).catch((function(){return{error:!0}}));case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&e()}),[u,x]),a}},7374:function(e,n,a){a.d(n,{z:function(){return u}});var i=a(74165),t=a(15861),r=a(47313),d=a(82229),c=a(20438),o=a(63199),s=a(66285),l=a(33866),u=function(e){var n=(0,c.T)(),a=(0,d.Ge)().account,u=(0,l.AH)(),x=e.user,f=void 0===x?"":x,b=e.amount,m=void 0===b?"":b,h=e.nonce,v=void 0===h?"":h,p=e.signature,g=void 0===p?"":p;return{onClaim:(0,r.useCallback)((0,t.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.QS)(u,a,f,m,v,g);case 2:return t=e.sent,n((0,o.IV)(a)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[n,a,f,m,v,g,u])}}},50324:function(e,n){var a=3600,i=86400,t=2629800,r=31557600;n.Z=function(e){var n=Math.abs(e),d={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return n>=r&&(d.years=Math.floor(n/r),n-=d.years*r),n>=t&&(d.months=Math.floor(n/t),n-=d.months*t),n>=i&&(d.days=Math.floor(n/i),n-=d.days*i),n>=a&&(d.hours=Math.floor(n/a),n-=d.hours*a),n>=60&&(d.minutes=Math.floor(n/60),n-=60*d.minutes),d.seconds=n,d}},53181:function(e,n,a){a.r(n),a.d(n,{default:function(){return Za}});var i=a(1413),t=a(70885),r=a(30168),d=a(47313),c=a(63830),o=a(20438),s=a(58704),l=a.n(s),u=a(82229),x=a(90240),f=a(49184),b=a(84485),m=a(91903),h=a(1689),v=a(63199),p=a(44383),g=a(16031),k=a(79581),j=a(76382),w=a(7885),y=a(4301),S=a(77431),Z=a(70668),C=a(64446),P=a(18941),D=JSON.parse('{"0x00e53c169da54a7e11172aeedf8eb87f060f479e":32.3,"0x0ecc84c9629317a494f12bc56aa2522475bf32e8":3.77,"0x0ed7e52944161450477ee417de9cd3a859b14fd0":3.49,"0x109cbffe72c02f26536ff8b92278dfd3610de656":15.97,"0x1472976e0b97f5b2fc93f1fff14e2b5c4447b64f":37.12,"0x1cc18962b919ef90085a8b21f8ddc95824fbad9e":3.15,"0x2bf2deb40639201c9a94c9e33b4852d9aea5fd2d":55.06,"0x2e28b9b74d6d99d4697e913b82b41ef1cac51c6c":1.56,"0x3747e3e107223539fd09bb730b055a1f11f78adf":16.06,"0x37ff7d4459ad96e0b01275e5efffe091f33c2cad":10,"0x3c2b7b578dd2175a1c3524aa0d515106282bf108":55.02,"0x3edb06e2d182d133864fe7c0f9b4c204bbf61d4e":6.05,"0x4ddd56e2f34338839bb5953515833950ea680afb":8.18,"0x58f876857a02d6762e0101bb5c46a8c1ed44dc16":18.05,"0x59fac9e98479fc9979ae2a0c7422af50bcbb9b26":15.34,"0x5b0a3b98c2f01741a11e57a9d0595b254e62f9f2":1.19,"0x5d937c3966002cbd9d32c890a59439b4b300a14d":14.19,"0x67efef66a55c4562144b9acfcfbc62f9e4269b3e":5.37,"0x69dee989c30b5ffe40867f5fc14f00e4bce7b681":4.36,"0x6a445ceb72c8b1751755386c3990055ff92e14a0":6.81,"0x74fa517715c4ec65ef01d55ad5335f90dce7cc87":22.51,"0x89ebf9cd99864f6e51bd7a578965922029cab977":11.45,"0xb5d108578be3750209d1b3a8f45ffee8c5a75146":7.05,"0xb5e33fe13a821e55ed33c884589a804b1b4f6fd8":2.12,"0xcaa662ad41a662b81be2aea5d59ec0697628665f":2.92,"0xdcfbb12ded3fea12d2a078bc6324131cd14bf835":6.35,"0xe267018c943e77992e7e515724b07b9ce7938124":2.77,"0xe834bf723f5bdff34a5d1129f3c31ea4787bc76a":20.03,"0xe8d5d81dac092ae61d097f84efe230759bf2e522":5.13,"0xf90baa331cfd40f094476e752bf272892170d399":14.38,"0x04b56a5b3f45cfeafbfdcfc999c14be5434f2146":8.8,"0x0648ff5de80adf54aac07ece2490f50a418dde23":19.76,"0x24d3b0ed4c444a4f6882d527cbf67adc8c026582":1.12,"0x289841bfb694767bcb56fbc7b741ab4b4d97d490":4.17,"0x28ea5894d4dbbe90bb58ee3bab2869387d711c87":14.04,"0x2a995d355d5df641e878c0f366685741fd18d004":1.02,"0x2d5db889392bc3c8b023a8631ca230a033eea1b8":5.36,"0x3cd338c3bb249b6b3c55799f85a589febbbff9dd":18.35,"0x3e19c18fe3458a6065d8f0844cb7eae52c9dae07":17.85,"0x3e4370204f598205998143f07ebcc486e441b456":6.25,"0x46c6ba71af7648cd7f67d0ad4d16f75be251ed12":10.52,"0x547a355e70cd1f8caf531b950905af751dbef5e6":12.28,"0x7275278c94b5e20708380561c4af98f38ddc6374":51.25,"0x7759283571da8c0928786a96ae601944e10461ff":19.66,"0x7b4682d2b3f8670b125af6aea8d7ed2daa43bdc1":6.83,"0x894bd57afd8efc93d9171cb585d11d0977557425":5.28,"0x89ee0491ce55d2f7472a97602a95426216167189":6.55,"0x8b2824d57eebf07f5aff5c91fa67ed7c501a9f43":94.02,"0x92247860a03f48d5c6425c7ca35cdcfcb1013aa1":10.05,"0x9392a1f471d9aa14c0b8eb28bd7a3f4a814727be":3.39,"0x946696344e7d4346b223e1cf77035a76690d6a73":9.82,"0x9d2296e2fe3cdbf2eb3e3e2ca8811bafa42eedff":21.79,"0xa39af17ce4a8eb807e076805da1e2b8ea7d0755b":21.35,"0xb87b857670a44356f2b70337e0f218713d2378e8":2.35,"0xba01662e978de7d67f8ffc937726215eb8995d17":63.98,"0xc19dfd34d3ba5816df9cbdaa02d32a9f8dc6f6fc":14.93,"0xc2d00de94795e60fb76bc37d899170996cbda436":11.06,"0xcdb0016d97fd0e7ec2c3b78aa4786cbd8e19c14c":9.71,"0xec6557348085aa57c72514d67070dc863c0a5a8c":1.72,"0xfdfde3af740a22648b9dd66d05698e5095940850":26.15,"0x1090c996fd1490d15dd7906322ee676a5cc3cf82":5.11,"0x1d94cb25895abd6ccfef863c53372bb462aa6b86":18.26,"0x222f93187f15f354d41ff6a7703ef7e18cdd5103":8.89,"0x226af4e918fcf3e62e5eeec867a3e78aaa7bb01d":21.22,"0x3c2c77353e2f6ac1578807b6b2336bf3a3cbb014":17.24,"0x41f049d990d38305504631c9835f6f856bf1ba67":96.91,"0x48028de4a9b0d3d91180333d796021ec7757ba1b":31.7,"0x4dca4d427511bc327639b222da18fa5e334f686f":22.62,"0x51bf99bbae59b67e5ce2fa9c17b683384773f8b3":4.51,"0x6045931e511ef7e53a4a817f971e0ca28c758809":15.46,"0x6e98beb694ff1cdb1ee130edd2b21b0298683d58":13.49,"0x804678fa97d91b974ec2af3c843270886528a9e6":27.55,"0x8853e3309a31583ea438f7704681f46f0d4d909b":5.34,"0x8e04b3972b5c25766c681dfd30a8a1cbf6dcc8c1":6.13,"0x8fa59693458289914db0097f5f366d771b7a7c3f":9.83,"0xa0387ebea6be90849c2261b911fbbd52b4c9eac4":33.83,"0xa4963b38b271c0d714593063497fc786fa4029ce":3.39,"0xb8b4383b49d451bbea63bc4421466e1086da6f18":0.62,"0xc74f7243766269dec5b85b0ef4af186e909c1b06":8.2,"0xcecfc2789af72ed151589a96a59f3a1abc65c3b5":28.56,"0xd171b26e4484402de70e3ea256be5a2630d7e88d":2.61,"0xdc7188ac11e124b1fa650b73ba88bf615ef15256":48.72,"0xdfa808da5cfb9aba5fb3748ff85888f79174f378":12.59,"0xea26b78255df2bbc31c1ebf60010d78670185bd0":10.76,"0xec95ff6281c3ad8e27372fa6675eb337640b8e5e":0.03,"0xecf30fbecfa642012f54212a3be92eef1e48edac":5.44,"0xef5212ada83ec2cc105c409df10b8806d20e3b35":17.18,"0xef7767677867552cfa699148b96a03358a9be779":6.12,"0xf23bad605e94de0e3b60c9718a43a94a5af43915":11.79,"0xf74ee1e10e097dc326a2ad004f9cc95cb71088d3":11.82,"0x029d66f9c0469450b7b4834b8ddc6a1118cec3e1":5.34,"0x0604471c532f9febad3e37190b667f44bd0894b3":148.72,"0x0716725d78081a9e0e1ff81516f5415b399e274d":2.82,"0x2030845ce7d4224523fd2f03ca20afe4aad1d890":0.91,"0x2c624c9ecf16cb81ab85cc2c0b0c5e12a09afda6":0.4,"0x4cc442220be1ce560c1f2573f8ca8f460b3e4172":2.13,"0x4d057f769d930eafd597b49d6fb2e1009a73a702":5.8,"0x4eafbf68a2d50291ffd163d4e00ad0f040aae707":0,"0x4fd6d315bef387fad2322fbc64368fc443f0886d":4.95,"0x61010e6cba3b56ba47e9dfd56da682dacfe76131":11.28,"0x6a00e41561ac36a78dba1d09091b0f00c4e53724":19.11,"0x7752e1fa9f3a2e860856458517008558deb989e3":19.95,"0x8046fa66753928f35f7db23ae0188ee6743c2fba":0.28,"0x8271d7eafeeb8f24d7c9fe1acce2ae20611972e5":15.1,"0x8d3ff27d2ad6a9556b7c4f82f4d602d20114bc90":3.56,"0x950fd020f8e4b8c57285ec7020b7a204348dadfa":1.8,"0xa7a0b605343df36b748ff4b5f7578b3f2d0651ce":21.25,"0xaa40f1ac20aafcfee8595da606d78c503c7e70a3":4.91,"0xac109c8025f272414fd9e2faa805a583708a017f":3.36,"0xb7cada0f120ca46745a024e6b9fe907b2fe10cf3":24.38,"0xbc7ac609fa730239190a70952e64ee1dfc2530ac":2.26,"0xbcf01a42f6bc42f3cfe81b05519565044d65d22a":0.36,"0xc20a92a1424b29b78dfaf92fd35d4cf8a06419b4":6.06,"0xc309a6d2f1537922e06f15aa2eb21caa1b2eedb6":9.68,"0xdaa89d335926628367b47852989bb22ee62ca5de":0,"0xdc9a574b9b341d4a98ce29005b614e1e27430e74":2.35,"0xdde420cbb3794ebd8ffc3ac69f9c78e5d1411870":11.75,"0xe6b421a4408c82381b226ab5b6f8c4b639044359":8.55,"0xea61020e5a128d2bec67d48f7cfbe3408db7e391":1.27,"0xf45cd219aef8618a92baa7ad848364a158a24f33":6.8,"0x0362ba706dfe8ed12ec1470ab171d8dcb1c72b8d":121.88,"0x123d475e13aa54a43a7421d94caa4459da021c77":6.28,"0x1434bb50196a0c7ea825940b1dfd8aad25d79817":17.15,"0x153ad7d25b0b810497483d0cee8af42fc533fec8":1.84,"0x20c6de8983fb2d641c55004646aef40b4ea66e18":0.37,"0x222c3cbb89647bf77822435bd4c234a04272a77a":17.86,"0x3578b1f9bce98d2f4d293b422d8850fdf48b1f21":14.72,"0x3e42c1f7239231e3752b507764445dd8e6a570d5":4.07,"0x3f1a9f3d9aad8bd339ed4853f345d2ef89fbfe0c":13.1,"0x510b29a93ebf098f3fc24a16541aaa0114d07056":11.14,"0x5a58609da96469e9def3fe344bc39b00d18eb9a5":1.05,"0x5afef8567414f29f0f927a0f2787b188624c10e2":12.09,"0x6615ce60d71513aa4849269dd63821d324a23f8c":8.14,"0x678edb8b268e73db57b7694c163e1dc296b6e219":3.1,"0x6a97867a4b7eb7646ffb1f359ad582e9903aa1c2":4.34,"0x6d0c831254221ba121fb53fb44df289a6558867d":17.1,"0x81d776c90c89b8d51e9497d58338933127e2fa80":1.7,"0x853784b7bde87d858555715c0123374242db7943":12.61,"0x89666d026696660e93bf6edf57b71a68615768b7":3.64,"0x8f6baf368e7a4f6e2c9c995f22702d5e654a0237":1.24,"0x9730c791743300e9f984c9264395ce705a55da7c":6.96,"0xa5bb44c6f5fd9b836e5a654c8abbccc96a15dee5":14.39,"0xcad7019d6d84a3294b0494aef02e73bd0f2572eb":11.31,"0xd02da76c813b9cd4516ed50442923e625f90228f":6.95,"0xe482249cd295c0d1e9d2baaee71e66de21024c68":173.32,"0xe60b4e87645093a42fa9dcc5d0c8df6e67f1f9d2":42.1,"0xe98585bbb2dc81854ff100a3d9d7b0f53e0dafed":6.03,"0xf1ec67fa1881796bff63db3e1a301ce9cb787fad":7.46,"0xf3bc6fc080ffcc30d93df48bfa2aa14b869554bb":1.84,"0xffd4b200d3c77a0b691b5562d804b3bd54294e6e":6.29,"0x05faf555522fa3f93959f86b41a3808666093210":6.15,"0x13321acff4a27f3d2bca64b8beac6e5fdaaaf12c":2.89,"0x16afc4f2ad82986bbe2a4525601f8199ab9c832d":6.61,"0x1b415c3ec8095afbf9d78882b3a6263c4ad141b5":3.8,"0x1f37d4226d23d09044b8005c127c0517bd7e94fd":5.62,"0x21dd71ab78ede3033c976948f769d506e4f489ee":6.02,"0x2354ef4df11afacb85a5c7f98b624072eccddbb1":3.82,"0x24eb18ba412701f278b172ef96697c4622b19da6":16.96,"0x37908620def1491dd591b5a2d16022a33cdda415":2.69,"0x4288706624e3dd839b069216eb03b8b9819c10d2":2.89,"0x47c42b0a056a9c6e9c65b9ef79020af518e767a5":0.7,"0x66fdb2eccfb58cf098eaa419e5efde841368e489":4.2,"0x71b01ebddd797c8e9e0b003ea2f4fd207fbf46cc":3.36,"0x7653d2c31440f04d2c6520d482dc5dbd7650f70a":9.15,"0x856f9ad94ca8680b899214bb1eb3d235a3c33afe":5.34,"0x8e799cb0737525ceb8a6c6ad07f748535ff6377b":24.07,"0x91417426c3feaa3ca795921eb9fdd9715ad92537":0.19,"0x942b294e59a8c47a0f7f20df105b082710f7c305":3.48,"0xa3bfbbad526c6b856b1fdf73f99bcd894761fbf3":0.36,"0xa9986fcbdb23c2e8b11ab40102990a08f8e58f06":15.38,"0xb2678c414ebc63c9cc6d1a0fc45f43e249b50fde":14.85,"0xc05654c66756ebb82c518598c5f1ea1a0199a563":0.28,"0xc13aa76aac067c86ae38028019f414d731b3d86a":23.64,"0xc5768c5371568cf1114cddd52caed163a42626ed":14.51,"0xc6b668548aa4a56792e8002a920d3159728121d5":13.18,"0xc7a9c2af263ebb86139cca9349e49b17129ba033":1.53,"0xc869a9943b702b03770b6a92d2b2d25cf3a3f571":1.4,"0xcd68856b6e72e99b5eeaae7d41bb4a3b484c700d":166.07,"0xe094c686ad6cdda57b9564457f541fbf099b948a":5.33,"0xec6b56a736859ae8ea4beda16279ecd8c60da7ea":0.16,"0x014608e87af97a054c9a49f81e1473076d51d9a3":4.5,"0x03f18135c44c64ebfdcbad8297fe5bdafdbbdd86":5.24,"0x133ee93fe93320e1182923e1a640912ede17c90c":4.86,"0x168b273278f3a8d302de5e879aa30690b7e6c28f":3.54,"0x16b9a82891338f9ba80e2d6970fdda79d1eb0dae":19.05,"0x1bdcebca3b93af70b58c41272aea2231754b23ca":7.98,"0x28415ff2c35b65b9e5c7de82126b4015ab9d031f":13.6,"0x356dd24bff8e23bde0430f00ad0c290e33438bd7":67.12,"0x3dcb1787a95d2ea0eb7d00887704eebf0d79bb13":17.58,"0x44ea47f2765fd5d26b7ef0222736ad6fd6f61950":20.06,"0x460b4193ec4c1a17372aa5fdcd44c520ba658646":37.45,"0x468b2dc8dc75990ee3e9dc0648965ad6294e7914":87.33,"0x61eb789d75a95caa3ff50ed7e47b96c132fec082":4.12,"0x73566ca86248bd12f0979793e4671e99a40299a7":18.07,"0x74e4716e431f45807dcf19f284c7aa99f18a4fbc":5.02,"0x7eb5d86fd78f3852a3e0e064f2842d45a3db6ea2":10.14,"0x7efaef62fddcca950418312c6c91aef321375a00":2.64,"0x824eb9fadfb377394430d2744fa7c42916de3ece":5.15,"0x8645148de4e339964ba480ae3478653b5bc6e211":1.91,"0xacf47cbeaab5c8a6ee99263cfe43995f89fb3206":3.84,"0xb6e34b5c65eda51bb1bd4ea5f79d385fb94b9504":17.57,"0xce383277847f8217392eea98c5a8b4a7d27811b0":5.37,"0xd63b5cecb1f40d626307b92706df357709d05827":4.13,"0xd8e2f8b6db204c405543953ef6359912fe3a88d6":5.78,"0xd9bccbbbdfd9d67beb5d2273102ce0762421d1e3":89.21,"0xdd5bad8f8b360d76d12fda230f8baf42fe0022cf":9.17}'),T=function(e,n){return e&&n?(e+n).toLocaleString("en-US",{maximumFractionDigits:2}):e?e.toLocaleString("en-US",{maximumFractionDigits:2}):null},B=function(e,n,a,i,t){var r,d,c,o=e.apr,s=e.isKingdom,u=e.poolWeightPCS,x=e.compounding,f=e.lpTokenBalancePCS,b=void 0===f?0:f,m=e.lpTotalInQuoteTokenPCS,h=void 0===m?0:m,v=e.quoteToken.busdPrice,g=e.altPid,k=e.farmType,j=e.beltAPR;if(12===g){var w=new(l())(t.lpTotalInQuoteToken).times(t.quoteToken.busdPrice);c=(0,p.yW)(t.poolWeight,t.tokenPriceVsQuote,w);var y=new(l())(c).div(new(l())(365)).toNumber(),S=100*(Math.pow(c/100/x+1,x)-1),Z=S,B=Z&&Z.toLocaleString("en-US",{maximumFractionDigits:2});return{hostApr:c,dailyAPR:y,farmAPY:S,totalAPY:Z,totalAPYString:B,newMultiplier:t.multiplier}}if("CAKE"===e.lpSymbol)c=(0,p.E)(Number(e.token.busdPrice),Number(e.token.busdPrice),(0,C.mW)(new(l())(b).times(P.o3),18),parseFloat("10"));else{var N=new(l())(h).times(v),A=n;"Bakery"===k?A=a:"Belt"===k&&(A=i),c="Belt"===k?Number(j):(0,p.yW)(new(l())(u),A,N,s,k)}var U=null!==(r=D[null===(d=e.lpAddresses[56])||void 0===d?void 0:d.toLocaleLowerCase()])&&void 0!==r?r:0,F=T(c,U);"Bakery"===k&&(c=10);var L=c?new(l())(c).div(new(l())(365)).toNumber():new(l())(0).toNumber(),K=100*(Math.pow(c/100/x+1,x)-1);"Pancake v2"===k&&(K=100*(Math.pow(Number(F)/100/x+1,x)-1));var M=o?o+K:K,z=M&&M.toLocaleString("en-US",{maximumFractionDigits:2});return{hostApr:c,dailyAPR:L,farmAPY:K,totalAPY:M,totalAPYString:z,lpRewardsApr:U,aprWithLpRewards:F}},N=a(87977),A=a(46417),U=function(e){var n=e.value,a=e.fontSize,i=e.color,t=e.decimals,r=e.isDisabled,c=e.unit,o=e.bold,s=(0,d.useRef)(0);return(0,d.useEffect)((function(){s.current=n}),[n]),(0,A.jsxs)(x.xv,{bold:o,color:r?"textDisabled":i,fontSize:a,children:[(0,A.jsx)(N.ZP,{start:s.current,end:n,decimals:t,duration:1,separator:","}),n&&c&&(0,A.jsx)("span",{children:c})]})};U.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var F,L,K,M,z,E,I,O,W,R,q,Q,V,Y,H,X,G,$,_,J,ee=U,ne=a(19439),ae=a(74165),ie=a(15861),te=a(54545),re=a(68869),de=a(49908),ce=a(89498),oe=a(29608),se=a(98059),le=a(89680),ue=a(7374),xe=a(48574),fe=a(30652),be=a(27163),me=f.ZP.div(F||(F=(0,r.Z)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background})),he=(0,f.ZP)(x.zx)(L||(L=(0,r.Z)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),ve=f.ZP.div(K||(K=(0,r.Z)(["\n  display: flex;\n"]))),pe=f.ZP.span(M||(M=(0,r.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),ge=function(e){var n=e.farm,a=e.walletBalance,i=e.depositBalance,r=e.rewardBalance,o=e.walletBalanceQuoteValue,s=e.depositBalanceQuoteValue,u=e.addLiquidityUrl,f=e.account,b=e.cakePrice,h=e.bnbDividends,v=(0,c.TH)(),p=(0,m.Pu)("BNB-BUSD LP"),g=(0,d.useState)(!1),k=(0,t.Z)(g,2),j=k[0],w=k[1],y=(0,d.useState)(!1),S=(0,t.Z)(y,2),Z=S[0],C=S[1],D=(0,d.useState)(!1),T=(0,t.Z)(D,2),B=T[0],N=T[1],U=n.pid,F=n.isTokenOnly,L=n.isKingdom,K=n.isKingdomToken,M=n.lpSymbol,z=n.lpAddresses,E=n.token.address,I=M.toUpperCase(),O=n.userData||{},W=O.allowance,R=void 0===W?0:W,q=O.tokenBalance,Q=void 0===q?0:q,V=O.stakedBalance,Y=void 0===V?0:V,H=new(l())(R),X=new(l())(Q),G=new(l())(Y),$=r?new(l())(r).multipliedBy(b).toNumber():0,_=(0,be.Z)(),J=(0,ce.ZP)(U,L).onStake,ne=(0,oe.ZP)(U,L).onUnstake,ge=(0,se.vj)(U,L).onReward,ke=(0,ue.z)(h||{}).onClaim,je=f&&H&&H.isGreaterThan(0),we=(0,x.dd)((0,A.jsx)(re.Z,{max:X,onConfirm:J,tokenName:I,addLiquidityUrl:u,isTokenOnly:F,isKingdomToken:K})),ye=(0,t.Z)(we,1)[0],Se=(0,x.dd)((0,A.jsx)(de.Z,{max:G,onConfirm:ne,tokenName:I,isTokenOnly:F,isKingdomToken:K})),Ze=(0,t.Z)(Se,1)[0],Ce=(0,fe.Kn)(z),Pe=(0,fe.Kn)(E),De=(0,d.useMemo)((function(){return F||K?(0,xe.jS)(Pe,_):(0,xe.jS)(Ce,_)}),[Ce,F,_,Pe,K]),Te=(0,le.yA)(De,L).onApprove,Be=(0,d.useCallback)((0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Te();case 4:w(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Te]),Ne=(0,A.jsx)(he,{mt:"8px",disabled:j||v.pathname.includes("archived"),onClick:Be,children:"Approve Contract"}),Ae=h&&h.amount?new(l())(h.amount).div(P.o3).toNumber():0,Ue=Ae?new(l())(Ae).multipliedBy(p).toNumber():0,Fe=null;return Fe="CUB"===n.lpSymbol?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.xv,{children:"BNB Dividends"}),(0,A.jsxs)(ve,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:Ae,decimals:Ae?3:2,unit:""}),"\xa0",(0,A.jsx)(pe,{children:"("}),(0,A.jsx)(te.Z,{value:Ue}),(0,A.jsx)(pe,{children:")"})]}),(0,A.jsx)(he,{disabled:0===Ae||B||!je,onClick:(0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,ke();case 3:N(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.xv,{children:"CUB Rewards"}),(0,A.jsxs)(ve,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:r,decimals:r?3:2,unit:""}),"\xa0",(0,A.jsx)(pe,{children:"("}),(0,A.jsx)(te.Z,{value:$}),(0,A.jsx)(pe,{children:")"})]}),(0,A.jsx)(he,{disabled:0===r||Z||!je,onClick:(0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,ge();case 3:C(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),(0,A.jsx)(me,{children:(0,A.jsx)("div",{className:"k-card",children:(0,A.jsxs)("div",{className:"flex-grid",children:[(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.kC,{justifyContent:"space-between",children:(0,A.jsx)(x.xv,{children:"Balance (Wallet)"})}),(0,A.jsxs)(ve,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:a,decimals:a?3:2,unit:""}),"\xa0",(0,A.jsx)(pe,{children:"("}),(0,A.jsx)(te.Z,{value:o}),(0,A.jsx)(pe,{children:")"})]}),je?(0,A.jsx)(he,{mt:"8px",fullWidth:!0,onClick:ye,children:"Deposit"}):Ne]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.kC,{justifyContent:"space-between",children:(0,A.jsx)(x.xv,{children:"Deposit (Staked)"})}),(0,A.jsxs)(ve,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:i,decimals:i?3:2,unit:""}),"\xa0",(0,A.jsx)(pe,{children:"("}),(0,A.jsx)(te.Z,{value:s}),(0,A.jsx)(pe,{children:")"})]}),je?(0,A.jsx)(he,{mt:"8px",fullWidth:!0,onClick:Ze,children:"Withdraw"}):Ne]}),(0,A.jsx)("div",{className:"col",children:Fe})]})})})},ke=a(22096),je=function(e){var n=e.aprApy,a=e.lpLabel,i=e.addLiquidityUrl,t=n.farmAPR,r=n.apr,d=n.compounding,c=n.hostApr,o=n.dailyAPR,s=n.farmAPY,u=n.totalAPYString,f=n.cakePrice,b=n.aprWithLpRewards,m=n.lpRewardsApr;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{color:"warning",children:"Total APY:"}),(0,A.jsxs)(x.xv,{bold:!0,color:"warning",children:[u,"%"]})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Farm APR:"}),(0,A.jsx)(x.xv,{children:"".concat(new(l())(c).toFixed(2),"% (").concat(new(l())(o).toFixed(3),"%)")})]}),m?(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"APR+LP rewards:"}),(0,A.jsxs)(x.xv,{children:[b,"%"]})]}):null,(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Compounds / year:"}),(0,A.jsxs)(x.xv,{children:["~",d]})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Farm APY:"}),(0,A.jsx)(ee,{fontSize:"16px",value:s,decimals:2,unit:"%"})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,A.jsx)(x.xv,{children:"CUB APR:"}),(0,A.jsx)(x.xv,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ke.Z,{lpLabel:a,addLiquidityUrl:i,cakePrice:f,apr:r}),t||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):(0,A.jsx)(x.Od,{height:24,width:80})})]})]})},we=f.ZP.div(z||(z=(0,r.Z)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"]))),ye=f.ZP.div(E||(E=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),Se=f.ZP.div(I||(I=(0,r.Z)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),Ze=(0,f.ZP)(x.rU)(O||(O=(0,r.Z)(["\n  font-weight: 400;\n"]))),Ce=f.ZP.div(W||(W=(0,r.Z)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),Pe=function(e){var n=e.farm,a=e.walletBalance,i=e.depositBalance,t=e.rewardBalance,r=e.walletBalanceQuoteValue,d=e.depositBalanceQuoteValue,c=e.farmName,o=e.oneTokenQuoteValue,s=e.removed,l=e.aprApy,u=e.account,f=e.cakePrice,b=e.bnbDividends,m=o&&"NaN"!==o.toString()?"~$".concat(o.times(P.o3).toFixed(2)):"-",h=n.lpSymbol,v=n.multiplier,p=n.quoteToken,g=n.token,k=n.lpAddresses,j=n.isTokenOnly,w=n.isKingdomToken,y=n.kingdomContract,S=n.altPid,Z=h&&h.toUpperCase().replace("PANCAKE",""),C=(0,ne.Z)({quoteTokenAddress:p.address,tokenAddress:g.address}),D=k[56],T=g.address[56],B="https://bscscan.com/token/".concat(j||w?T:D),N="https://bscscan.com/address/".concat(y),U="https://pancakeswap.info/pair/".concat(j?T:D),F=P.LJ,L="".concat(P.nd,"/swap/").concat(g.address[56]),K="".concat(F,"/").concat(C);"Bakery"===n.farmType?(F=P.sl,K="".concat(F,"/").concat(C),U="https://info.bakeryswap.org/#/pair/".concat(j?T:D)):"Belt"===n.farmType&&(K=F=P.N9,L=F,U=F);var M=v;return l.newMultiplier&&(M="".concat(l.newMultiplier,"*")),(0,A.jsxs)(Se,{children:[(0,A.jsx)(ge,{farm:n,walletBalance:a,depositBalance:i,rewardBalance:t,walletBalanceQuoteValue:r,depositBalanceQuoteValue:d,addLiquidityUrl:K,account:u,cakePrice:f,bnbDividends:b}),(0,A.jsxs)(we,{className:"k-details",children:[(0,A.jsxs)(ye,{children:[(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsxs)(x.xv,{children:[h,":"]}),(0,A.jsxs)(x.xv,{children:["(",m,")"]})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Multiplier:"}),(0,A.jsx)(x.xv,{children:M})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Type:"}),(0,A.jsx)(x.xv,{children:"Auto-compound"})]}),12===S?(0,A.jsx)(Ce,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Farm:"}),(0,A.jsx)(x.xv,{children:c})]})]}),(0,A.jsx)(ye,{children:(0,A.jsx)(je,{aprApy:l,lpLabel:Z,addLiquidityUrl:K})}),(0,A.jsxs)(ye,{children:[(0,A.jsx)(Ze,{external:!0,href:B,children:"Farm Contract"}),(0,A.jsx)(Ze,{external:!0,href:N,children:"Kingdom Contract"}),!s&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ze,{external:!0,href:L,children:"Buy ".concat(g.symbol)}),(0,A.jsx)(Ze,{external:!0,href:K,children:"Add Liquidity"})]}),(0,A.jsx)(Ze,{external:!0,href:U,children:"See Token Info"})]})]})]})},De=f.ZP.div(R||(R=(0,r.Z)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Te=f.ZP.div(q||(q=(0,r.Z)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),Be=f.ZP.div(Q||(Q=(0,r.Z)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Ne=f.ZP.div(V||(V=(0,r.Z)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),Ae=(0,f.F4)(Y||(Y=(0,r.Z)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),Ue=f.ZP.div(H||(H=(0,r.Z)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),Ae),Fe=(0,f.ZP)(x.Ee)(X||(X=(0,r.Z)(["\n  width: 64px;\n"]))),Le=f.ZP.div(G||(G=(0,r.Z)(["\n  cursor: pointer;\n"]))),Ke=function(e){var n=e.farm,a=e.removed,r=e.cakePrice,c=e.account,o=e.bakePrice,s=e.beltPrice,u=e.cubDen,f=e.realCakePrice,b=e.bnbDividends,m=(0,d.useState)(!1),h=(0,t.Z)(m,2),v=h[0],p=h[1],g=n.apr,k=n.lpTotalInQuoteToken,j=n.lpSymbol,w=n.lpTokenBalancePCS,y=void 0===w?0:w,S=n.lpTotalInQuoteTokenPCS,Z=void 0===S?0:S,D=n.quoteToken.busdPrice,T=n.altPid,N=n.farmType,U=n.token.busdPrice,F=n.compounding,L=j.split(" ")[0].toLocaleLowerCase(),K=B(n,f,o,s,u),M=K,z=M.dailyAPR,E=M.totalAPY,I=M.hostApr,O=n.userData,W=O.tokenBalance,R=O.stakedBalance,q=O.earnings,Q=W?(0,C.mW)(new(l())(W)):0,V=R?(0,C.mW)(new(l())(R)):0,Y=q?(0,C.mW)(new(l())(q)):0,H=new(l())(U),X=new(l())(0);X=n.isKingdomToken?"Belt"!==n.farmType?H.div(P.o3):new(l())(n.token.busdPrice).div(P.o3):Z?new(l())(Z).div(new(l())(y)).times(D).div(P.o3):new(l())(0);var G=W?new(l())(W).times(X).toNumber():0,$=R?new(l())(R).times(X).toNumber():0,_=k?"$".concat(Number(new(l())(k).times(D)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",J=g&&g.toLocaleString("en-US",{maximumFractionDigits:2});return K=(0,i.Z)((0,i.Z)({},K),{},{compounding:F,farmAPR:J,apr:12===T?I:g,cakePrice:r,quoteTokenPriceUsd:Number(D),lpTotalInQuoteToken:k}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Te,{}),(0,A.jsxs)(Ne,{children:["CUB"===n.token.symbol&&(0,A.jsx)(Ue,{}),(0,A.jsxs)(Le,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return p(!v)},children:[(0,A.jsx)("div",{className:"col",children:(0,A.jsx)(Fe,{src:"/images/farms/".concat(L,".png"),alt:j,width:64,height:64})}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.kC,{justifyContent:"flex-start",alignItems:"center",children:(0,A.jsx)(x.xv,{className:"token",children:j})}),(0,A.jsxs)(x.xv,{children:["Uses: ",N]}),(0,A.jsxs)(x.xv,{children:["TVL ",_]})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:Q,decimals:Q?2:1,unit:"",color:Q?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Balance"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:V,decimals:V?2:1,unit:"",color:V?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Deposited"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:Y,decimals:Y?2:1,unit:"",color:Y?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Rewards"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:"NaN"!==E.toString()?E:0,decimals:2,unit:"%",color:"warning"}),(0,A.jsx)(x.xv,{color:"warning",children:"APY"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:z,decimals:2,unit:"%"}),(0,A.jsx)(x.xv,{children:"Daily"})]})]}),(0,A.jsxs)(Be,{expanded:v,children:[(0,A.jsx)(De,{}),(0,A.jsx)(Pe,{farm:n,walletBalance:Q,depositBalance:V,rewardBalance:Y,walletBalanceQuoteValue:G,depositBalanceQuoteValue:$,farmName:N,oneTokenQuoteValue:X,removed:a,aprApy:K,account:c,cakePrice:r,bnbDividends:b})]})]})]})},Me=(0,f.ZP)(x.xv)($||($=(0,r.Z)(["\n  line-height: 1.5;\n\n"]))),ze=function(e){var n=e.value,a=e.decimals,i=e.prefix,t=e.fontSize,r=void 0===t?"16px":t,c=(0,N.$i)({start:0,end:n,duration:1,separator:",",decimals:void 0!==a?a:n<0?4:n>1e5?0:3}),o=c.countUp,s=c.update,l=(0,d.useRef)(s);return(0,d.useEffect)((function(){l.current(n)}),[n,l]),(0,A.jsxs)(Me,{fontSize:r,children:[i,o]})},Ee=a(38301),Ie=function(e,n,a,i,t){var r=Ee.H,d=Ee.H,c=0,o=0,s=0;e.forEach((function(e){if(e.isKingdom){var u=e.userData,x=e.lpTotalInQuoteTokenPCS,f=void 0===x?0:x,b=e.lpTokenBalancePCS,m=void 0===b?0:b,h=e.quoteToken.busdPrice,v=e.token.busdPrice,p=u.stakedBalance,g=u.earnings,k=B(e,n,a,i,t);if(p>"1"){var j=Ee.H;j=e.isKingdomToken?"Belt"!==e.farmType?v:new(l())(e.token.busdPrice):f?new(l())(f).div(new(l())(m)).times(h):new(l())(0);var w=p?new(l())(p).times(j):new(l())(0);d=d.plus(new(l())(w)),c=+c+ +k.totalAPY,o=+o+ +k.dailyAPR,s+=1}"0"!==g&&(r=r.plus(new(l())(g)))}}));var u=d!==Ee.H?(0,C.mW)(d):0,x=r!==Ee.H?(0,C.mW)(r):0;return[u,x,x?new(l())(x).multipliedBy(n).toNumber():0,c,o,s]},Oe=f.ZP.div(_||(_=(0,r.Z)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),We=function(e){var n=e.farms,a=e.cakePrice,i=e.bakePrice,r=e.beltPrice,d=e.cubDen,c=Ie(n,a,i,r,d),o=(0,t.Z)(c,6),s=o[0],l=o[1],u=o[2],f=o[3],b=o[4],m=o[5],h="NaN"!==f.toString()&&0!==f?f/m:0,v=b?b/m:0,p=s?"$".concat(s.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",g=v?"".concat(v.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",k=u?"$".concat(u.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return(0,A.jsx)(Oe,{children:(0,A.jsxs)(x.kC,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(x.xv,{children:"Total Deposit"}),(0,A.jsx)(x.xv,{fontSize:"18px",color:"textSubtle",children:p}),(0,A.jsxs)(x.xv,{children:[m," assets"]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(x.xv,{children:"Average APY"}),(0,A.jsx)(ee,{fontSize:"18px",value:h,decimals:h?2:1,unit:"%",color:"textSubtle"}),(0,A.jsxs)(x.xv,{children:["Daily ",g]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(x.xv,{children:"CUB Rewards"}),(0,A.jsx)(ee,{fontSize:"18px",value:l,decimals:l?2:1,unit:"",color:"textSubtle"}),(0,A.jsx)(x.xv,{children:k})]})]})})},Re=a(28303),qe=a(1760),Qe=function(e){var n,a=e.hasStakeInFinishedFarms,i=e.hasStakeInArchivedFarms,t=(0,c.$B)().url,r=(0,c.TH)(),d=(0,qe.Z)();switch(r.pathname){case"/kingdoms":default:n=0;break;case"/kingdoms/history":n=1;break;case"/kingdoms/archived":n=2}return(0,A.jsx)(Ve,{children:(0,A.jsxs)(x.xz,{activeIndex:n,scale:"sm",variant:"subtle",children:[(0,A.jsx)(x.kg,{as:Re.rU,to:"".concat(t),children:d(1198,"Live")}),(0,A.jsx)(x.Bw,{show:a,children:(0,A.jsx)(x.kg,{as:Re.rU,to:"".concat(t,"/history"),children:d(388,"Finished")})}),(0,A.jsx)(x.Bw,{show:i,children:(0,A.jsx)(x.kg,{as:Re.rU,to:"".concat(t,"/archived"),children:d(999,"Discontinued")})})]})})},Ve=f.ZP.div(J||(J=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ye=a(65951),He=a(35140),Xe=a(60523),Ge=a(11977),$e=function(e){var n=e.onConfirm,a=e.onDismiss,i=e.tokenName,r=void 0===i?"":i,c=e.isTokenOnly,o=e.isKingdomToken,s=(e.hasWithdrawFee,e.performanceFee),u=e.shares,f=e.pricePerFullShare,b=(0,d.useState)(""),m=(0,t.Z)(b,2),h=m[0],v=m[1],p=(0,d.useState)(!1),g=(0,t.Z)(p,2),k=g[0],j=g[1],w=(0,qe.Z)(),y=(0,d.useMemo)((function(){return new(l())(null===u||void 0===u?void 0:u.minus(s).multipliedBy(f.div(P.o3)).dividedBy(P.o3).toFixed(18))||new(l())(0)}),[u,s,f]);function S(e){var n=new(l())(e),a=n.multipliedBy(P.o3).dividedBy(f).multipliedBy(P.o3).plus(s.times(n.div(y)));return a.isGreaterThan(u.times(.999))?u.toString():a.toFixed(0)}var Z=new(l())(h),C=(0,d.useCallback)((function(e){e.currentTarget.validity.valid&&v(e.currentTarget.value.replace(/,/g,"."))}),[v]),D=(0,d.useCallback)((function(){v(y.toString())}),[y,v]);return(0,A.jsxs)(x.u_,{title:w(1126,c||o?"Unstake tokens":"Unstake LP tokens"),onDismiss:a,children:[(0,A.jsx)(Ge.Z,{onSelectMax:D,onChange:C,value:h,max:new(l())(y.toFixed(18)).toString(),symbol:r,inputTitle:w(588,"Unstake")}),(0,A.jsxs)(Xe.Z,{children:[(0,A.jsx)(x.zx,{variant:"secondary",onClick:a,width:"100%",disabled:k,children:w(462,"Cancel")}),(0,A.jsx)(x.zx,{disabled:k||!Z.isFinite()||Z.eq(0)||Z.gt(y),onClick:(0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,n(S(h));case 3:j(!1),a();case 5:case"end":return e.stop()}}),e)}))),width:"100%",children:k?w(488,"Pending Confirmation"):w(464,"Confirm")})]})]})},_e=a(88553),Je=a(19560),en=a(57042),nn=a(6321),an=a(11822),tn=a.n(an),rn=a(84951),dn=a(29074),cn=a(54649),on=a(45853),sn=a(23935),ln=(0,fe.Oc)(),un=Je.O$.from("1000000000000"),xn=function(e,n,a){return e.mulUnsafe(en.xs.from(nn.Ce)).divUnsafe(n).divUnsafe(a).mulUnsafe(en.xs.from(100))},fn=function(e,n,a){return en.xs.from(e).mulUnsafe(en.xs.from(Math.max(n,0))).divUnsafe(en.xs.from(a)).divUnsafe(en.xs.from(un))},bn=function(e,n){return en.xs.from(e).mulUnsafe(n.addUnsafe(en.xs.from("1")))};function mn(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.duration,i=void 0===a?on.VO:a,r=n.tvl,c=void 0===r?"":r,o=(0,cn.Z)("use-vault-apy-locked-kingdom-".concat(c),(0,ie.Z)((0,ae.Z)().mark((function e(){var n,a,i,r,d,c,o,s,l,u;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{address:(0,fe.aw)(),name:"totalShares"},{address:(0,fe.aw)(),name:"getPricePerFullShare"},{address:(0,fe.aw)(),name:"performanceFee"}],e.next=3,(0,sn.Z)(dn,n);case 3:return a=e.sent,i=(0,t.Z)(a,3),r=(0,t.Z)(i[0],1),d=r[0],c=(0,t.Z)(i[1],1),o=c[0],s=(0,t.Z)(i[2],1),l=s[0],u=Je.O$.from(l.toNumber()).div(Je.O$.from("100")).toNumber(),e.abrupt("return",{totalShares:d,pricePerFullShare:o,fees:{performanceFeeAsDecimal:u}});case 13:case"end":return e.stop()}}),e)})))),s=o.data,l=(null===s||void 0===s?void 0:s.totalShares)||Ee.H,u=(null===s||void 0===s?void 0:s.pricePerFullShare)||Ee.H,x=(null===s||void 0===s||null===(e=s.fees)||void 0===e?void 0:e.performanceFeeAsDecimal)||2,f=(0,d.useMemo)((function(){return en.xs.from(l.toString())}),[l]),b=(0,d.useMemo)((function(){return en.xs.from(u.toString())}),[u]),m=(0,cn.Z)("masterChef-total-cake-pool-emission-".concat(c),(0,ie.Z)((0,ae.Z)().mark((function e(){var n,a,i,r,d,c,o,s,l;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{address:ln,name:"cubPerBlock"},{address:ln,name:"poolInfo",params:[34]},{address:ln,name:"totalAllocPoint"}],e.next=3,(0,sn.Z)(rn,n);case 3:return a=e.sent,i=(0,t.Z)(a,3),r=(0,t.Z)(i[0],1),d=r[0],c=i[1],o=(0,t.Z)(i[2],1),s=o[0],l=en.xs.from(c.allocPoint).divUnsafe(en.xs.from(s)),e.abrupt("return",en.xs.from(d).mulUnsafe(en.xs.from(P.gk)).mulUnsafe(l));case 12:case"end":return e.stop()}}),e)})))),h=m.data,v=(0,d.useMemo)((function(){return h&&!b.isZero()&&!f.isZero()&&xn(h,b,f).toString()}),[b,h,f]),p=(0,d.useMemo)((function(){return fn(on.xt,i,on.A0)}),[i]),g=(0,d.useMemo)((function(){return v&&bn(v,p).toString()}),[p,v]),k=(0,d.useCallback)((function(e){return fn(on.xt,e,on.A0)}),[]),j=(0,d.useMemo)((function(){if(v&&x){var e=tn()(1-x/100);return en.xs.from(v).mulUnsafe(en.xs.from(e)).toString()}return v}),[v,x]);return{flexibleApy:j,lockedApy:g,getLockedApy:(0,d.useCallback)((function(e){return v&&bn(v,k(e)).toString()}),[v,k]),boostFactor:(0,d.useMemo)((function(){return p.addUnsafe(en.xs.from("1"))}),[p]),getBoostFactor:(0,d.useCallback)((function(e){return k(e).addUnsafe(en.xs.from("1"))}),[k])}}var hn,vn,pn=a(17398),gn=function(e){var n=e.max,a=e.onConfirm,i=e.onDismiss,r=e.tokenName,c=void 0===r?"":r,o=e.addLiquidityUrl,s=e.isTokenOnly,u=e.isKingdomToken,f=e.isAddAdditional,b=e.currentEndTime,m=e.currentStartTime,h=(0,d.useState)(""),v=(0,t.Z)(h,2),p=v[0],g=v[1],k=(0,d.useState)(Math.floor((b-m)/604800)||1),j=(0,t.Z)(k,2),w=j[0],y=j[1],S=(0,d.useState)(!1),Z=(0,t.Z)(S,2),P=Z[0],D=Z[1],T=(0,d.useState)(!1),B=(0,t.Z)(T,2),N=B[0],U=B[1],F=(0,qe.Z)(),L=mn(),K=L.lockedApy,M=L.getLockedApy,z=(0,d.useMemo)((function(){return(0,C.NJ)(n)}),[n]),E=new(l())(p),I=new(l())(z),O=(0,d.useCallback)((function(e){e.currentTarget.validity.valid&&g(e.currentTarget.value.replace(/,/g,"."))}),[g]),W=0;f&&(W=Math.floor((b-m)/604800));var R=(0,d.useCallback)((function(){g(z)}),[z,g]),q=(0,d.useMemo)((function(){return Math.max(f&&!N?0:604800*w-(m||0)+(b||0),0)}),[m,b,w,N,f]),Q=(0,d.useMemo)((function(){return Math.max(f&&!N?0:new(l())(604800*w).minus(b||0).plus(m||0).toNumber(),0)}),[w,N,f,b,m]),V=f&&!N?W:w,Y=f&&!N?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date(1e3*e);return n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(b):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date;return n.setDate(n.getDate()+7*e),n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(V),H=(0,d.useMemo)((function(){return new(l())(p).times(new(l())(M(q)).div(100)).toFixed(3)}),[p,M,q]);return(0,A.jsxs)(x.u_,{title:F(1068,s||u?"Stake tokens":"Stake LP tokens"),onDismiss:i,children:[(0,A.jsx)(Ge.Z,{value:p,onSelectMax:R,onChange:O,max:z,symbol:c,addLiquidityUrl:o,inputTitle:F(1070,"Stake")}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),f?null:(0,A.jsx)(Ge.Z,{max:"52",symbol:"Weeks",onChange:function(e){return e.currentTarget.validity.valid&&y(Number(e.currentTarget.value))},onSelectMax:function(){return y(52)},value:w.toString(),inputTitle:"Stake for",showMaxInstead:!0}),f?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(pn.ZP,{style:{marginBottom:"10px",flexShrink:"1",display:"block",width:"auto"},variant:"warning",actionInline:!0,children:(0,A.jsx)(x.xv,{style:{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word",maxWidth:"450px"},children:"Adding more CUB will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock."})}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsx)(x.XZ,{checked:N,onChange:function(){return U(!N)}},"extend"),(0,A.jsx)(x.xv,{fontSize:"1.1em",style:{textAlign:"left",flexGrow:"1",marginLeft:"10px"},children:"Renew and extend your lock to keep similar benefits."})]})]}):null,(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"APY:"})," ",K?new(l())(M(q)).toFixed(2):"0.00","%"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"You will earn:"})," ",H&&!Number.isNaN(Number(H))?H:"0.000"," CUB"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"Duration:"})," ",V," Week",1===V?"":"s"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"Unlocks at:"})," ",Y]}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(x.xv,{color:"failure",children:[(0,A.jsx)("span",{role:"img","aria-label":"warning",children:"\u26a0\ufe0f"}),"\xa0Locked funds cannot be withdrawn until the end of the lock period."]}),(0,A.jsxs)(Xe.Z,{children:[(0,A.jsx)(x.zx,{variant:"secondary",onClick:i,width:"100%",disabled:P,children:F(462,"Cancel")}),(0,A.jsx)(x.zx,{width:"100%",disabled:P||!E.isFinite()||E.eq(0)||E.gt(I),onClick:(0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,a(p,Q);case 3:D(!1),i();case 5:case"end":return e.stop()}}),e)}))),children:P?F(488,"Pending Confirmation"):F(464,"Confirm")})]}),(0,A.jsxs)(x.NR,{href:o,style:{alignSelf:"center"},children:[F(999,"Get")," ",c]})]})},kn=a(50324),jn=function(e){var n=e.secondsRemaining,a=(0,kn.Z)(n),i=a.days,t=a.hours,r=a.minutes;return(0,A.jsx)(x.xv,{bold:!0,fontSize:"14px",children:"".concat(i,"d:").concat(t,"h:").concat(r,"m")})},wn=a(30610),yn=a(50931),Sn=function(e){var n,a=e.lockEndTime;(0,d.useEffect)((function(){return l(),function(){clearInterval(n)}}));var i=(0,d.useState)(0),r=(0,t.Z)(i,2),c=r[0],o=r[1],s=(0,d.useMemo)((function(){return(0,wn.Z)(1e3*parseInt(a),on.by)}),[a]),l=(0,d.useCallback)((function(){o((0,yn.Z)(s,new Date))}),[s]);n=setInterval(l,6e4);var u=(0,kn.Z)(c),x=u.days,f=u.hours,b=u.minutes;return(0,A.jsx)(A.Fragment,{children:"".concat(x,"d: ").concat(f,"h: ").concat(b,"m")})},Zn=(0,d.memo)(Sn),Cn=function(e){var n=e.amount,a=e.onConfirm,i=e.onDismiss,r=e.tokenName,c=void 0===r?"":r,o=e.addLiquidityUrl,s=e.title,u=e.existingStakeDuration,f=e.existingStakeSecondsRemain,b=(0,d.useState)(1),m=(0,t.Z)(b,2),h=m[0],v=m[1],p=(0,d.useState)(!1),g=(0,t.Z)(p,2),k=g[0],j=g[1],w=(0,qe.Z)(),y=mn(),S=y.lockedApy,Z=y.getLockedApy,C=Math.round(u||0),P="";"Convert to Lock"!==s&&"Renew"!==s||(P="You will be able to withdraw the staked CUB and profit only when the staking position is unlocked.");var D=604800*h,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date;return n.setSeconds(n.getSeconds()+e),n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(new(l())(h).times(604800).toNumber()+Math.max(f||0,0)),B=(0,d.useMemo)((function(){return new(l())(n).times(new(l())(Z(D)).div(100)).toFixed(3)}),[n,Z,D]),N="Stake for";"Extend"!==s&&"Renew"!==s||(N="Extend for");var U=(52-C).toString();return"0"===U&&(P="You have reached the maximum locked staking time, please convert your stake to flex and then extend it in order to continue earning locked rewards."),(0,A.jsxs)(x.u_,{title:s,onDismiss:i,children:[(0,A.jsxs)(x.xv,{children:["Amount: ",Number(n).toFixed(3)," CUB"]}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsx)(Ge.Z,{max:U,symbol:"Weeks",onChange:function(e){return e.currentTarget.validity.valid&&v(Number(e.currentTarget.value))},onSelectMax:function(){return v(Number(U))},value:h.toString(),inputTitle:N,showMaxInstead:!0}),""!==P?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(pn.ZP,{style:{marginBottom:"10px",flexShrink:"1",display:"block",width:"auto"},variant:"warning",actionInline:!0,children:(0,A.jsx)(x.xv,{style:{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word",maxWidth:"450px"},children:P})})}):null,(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"APY:"})," ",S?new(l())(Z(D)).toFixed(2):"0.00","%"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"You will earn:"})," ",B&&!Number.isNaN(Number(B))?B:"0.000"," CUB"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"Duration:"})," ",h," Week",1===h?"":"s"]}),(0,A.jsxs)(x.xv,{children:[(0,A.jsx)("strong",{children:"Unlocks at:"})," ",T]}),(0,A.jsxs)(Xe.Z,{children:[(0,A.jsx)(x.zx,{variant:"secondary",onClick:i,width:"100%",disabled:k,children:w(462,"Cancel")}),(0,A.jsx)(x.zx,{width:"100%",disabled:k,onClick:(0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,a("0",D);case 3:j(!1),i();case 5:case"end":return e.stop()}}),e)}))),children:k?w(488,"Pending Confirmation"):w(464,"Confirm")})]}),(0,A.jsxs)(x.NR,{href:o,style:{alignSelf:"center"},children:[w(999,"Get")," ",c]})]})},Pn=a(66285),Dn=f.ZP.div(hn||(hn=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n"]))),Tn=(0,f.ZP)(x.zx)(vn||(vn=(0,r.Z)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"])));function Bn(e){var n=e.value,a=(0,N.$i)({start:0,end:n,duration:1,separator:",",decimals:3}),i=a.countUp,t=a.update,r=(0,d.useRef)(t);return(0,d.useEffect)((function(){r.current(n)})),(0,A.jsx)(A.Fragment,{children:i})}var Nn,An,Un,Fn,Ln,Kn=function(e){var n,a,i,r,s,u,f,b,m=e.farm,h=e.addLiquidityUrl,v=e.account,p=e.cakePrice,g=e.aprApy,k=e.cakeVaultEarnings,j=(0,c.TH)(),y=(0,d.useState)(!1),S=(0,t.Z)(y,2),Z=S[0],C=S[1],D=m.isTokenOnly,T=m.isKingdomToken,B=m.lpSymbol,N=m.lpAddresses,U=m.token.address,F=(0,be.Z)(),L=(0,d.useMemo)((function(){return m.lockedKingdomData?{totalShares:new(l())(m.lockedKingdomData.totalShares),totalLockedAmount:new(l())(m.lockedKingdomData.totalLockedAmount),pricePerFullShare:new(l())(m.lockedKingdomData.pricePerFullShare),totalBalance:new(l())(m.lockedKingdomData.totalBalance),fees:{withdrawalFee:new(l())(m.lockedKingdomData.fees.withdrawalFee),withdrawalFeePeriod:new(l())(m.lockedKingdomData.fees.withdrawalFeePeriod),performanceFee:new(l())(m.lockedKingdomData.fees.performanceFee)}}:null}),[null===m||void 0===m?void 0:m.lockedKingdomData]),K=B.toUpperCase(),M=m.userData||{},z=M.tokenBalance,E=void 0===z?0:z,I=M.allowance,O=void 0===I?0:I,W=new(l())(E),R=new(l())(O),q=(0,d.useMemo)((function(){return m.userData.lockedKingdomUserData?{shares:new(l())(m.userData.lockedKingdomUserData.shares),lastDepositedTime:new(l())(m.userData.lockedKingdomUserData.lastDepositedTime),tokenAtLastUserAction:new(l())(m.userData.lockedKingdomUserData.tokenAtLastUserAction),lastUserActionTime:new(l())(m.userData.lockedKingdomUserData.lastUserActionTime),lockStartTime:new(l())(m.userData.lockedKingdomUserData.lockStartTime),lockEndTime:new(l())(m.userData.lockedKingdomUserData.lockEndTime),userBoostedShare:new(l())(m.userData.lockedKingdomUserData.userBoostedShare),locked:m.userData.lockedKingdomUserData.locked,overdueFee:new(l())(m.userData.lockedKingdomUserData.overdueFee),performanceFee:new(l())(m.userData.lockedKingdomUserData.performanceFee)}:null}),[m.userData.lockedKingdomUserData]),Q=null===m||void 0===m||null===(n=m.userData)||void 0===n||null===(a=n.lockedKingdomUserData)||void 0===a?void 0:a.tokenAtLastUserAction,V=(0,d.useMemo)((function(){return new(l())(Q)}),[Q]),Y=V.multipliedBy(p),H=(null===q||void 0===q?void 0:q.shares.gt(0))||!1,X=(null===q||void 0===q?void 0:q.lockEndTime.gte((new Date).getTime()/1e3))&&0!==(null===q||void 0===q?void 0:q.lockEndTime.toNumber())||!1,G=(null===q||void 0===q?void 0:q.lockEndTime.gt(0))||!1,$=(0,o.T)(),_=(null===k||void 0===k?void 0:k.autoCakeToDisplay)||0,J=(null===k||void 0===k?void 0:k.autoUsdToDisplay)||0,ee=(0,ce.m9)().onStakeLocked,ne=function(e){return ee(e,0)},te=(0,oe.q1)((null===q||void 0===q?void 0:q.shares.toString())||"0").onUnstake,de=g.lockedApy,se=g.getBoostFactor,ue=v&&R&&R.isGreaterThan(0),me=(0,x.dd)((0,A.jsx)(gn,{isAddAdditional:!0,currentStartTime:(null===q||void 0===q||null===(i=q.lockStartTime)||void 0===i?void 0:i.toNumber())||0,currentEndTime:(null===q||void 0===q||null===(r=q.lockEndTime)||void 0===r?void 0:r.toNumber())||0,max:W,onConfirm:ee,tokenName:K,addLiquidityUrl:h,isTokenOnly:D,isKingdomToken:T})),he=(0,t.Z)(me,1)[0],ve=function(){var e=(0,xe.PN)(F);(0,Pn.Ge)(e,v).then((function(e){$((0,w.IV)(v)),console.info(e)}))},pe=(null===q||void 0===q||null===(s=q.lockEndTime)||void 0===s?void 0:s.minus(null===q||void 0===q?void 0:q.lockStartTime).div(604800).toNumber())||0,ge=Math.max((null===q||void 0===q||null===(u=q.lockEndTime)||void 0===u?void 0:u.minus((new Date).getTime()/1e3).toNumber())||0,0),ke=(0,x.dd)((0,A.jsx)(Cn,{amount:V.toString(),onConfirm:ee,tokenName:"CUB",addLiquidityUrl:h,title:"Convert to Lock"})),je=(0,t.Z)(ke,1)[0],we=(0,x.dd)((0,A.jsx)(Cn,{amount:V.toString(),existingStakeDuration:pe,existingStakeSecondsRemain:ge,onConfirm:ee,tokenName:"CUB",addLiquidityUrl:h,title:"Extend"})),ye=(0,t.Z)(we,1)[0],Se=(0,x.dd)((0,A.jsx)(Cn,{amount:_.toString(),existingStakeDuration:pe,onConfirm:ee,tokenName:"CUB",addLiquidityUrl:h,title:"Renew"})),Ze=(0,t.Z)(Se,1)[0],Ce=(0,x.dd)((0,A.jsx)(re.Z,{max:W,onConfirm:ne,tokenName:K,addLiquidityUrl:h,isTokenOnly:D,isKingdomToken:T,onConvertToLocked:je,showConvertToLocked:!0,maxLockedApy:de})),Pe=(0,t.Z)(Ce,1)[0],De=(0,x.dd)((0,A.jsx)(re.Z,{max:W,onConfirm:ne,tokenName:K,addLiquidityUrl:h,isTokenOnly:D,isKingdomToken:T})),Te=(0,t.Z)(De,1)[0],Be=(0,x.dd)((0,A.jsx)(gn,{max:W,onConfirm:ee,tokenName:K,addLiquidityUrl:h,isTokenOnly:D,isKingdomToken:T})),Ne=(0,t.Z)(Be,1)[0],Ae=(0,x.dd)((0,A.jsx)($e,{shares:null===q||void 0===q?void 0:q.shares,performanceFee:null===q||void 0===q?void 0:q.performanceFee.plus(null===q||void 0===q?void 0:q.overdueFee).plus(null===q||void 0===q?void 0:q.userBoostedShare),hasWithdrawFee:null===q||void 0===q?void 0:q.lastDepositedTime.lte(Math.floor(Date.now()/1e3)+259200),pricePerFullShare:null===L||void 0===L?void 0:L.pricePerFullShare,onConfirm:te,tokenName:K,isTokenOnly:D,isKingdomToken:T})),Ue=(0,t.Z)(Ae,1)[0];var Fe=function(){var e=new Date(((null===q||void 0===q?void 0:q.lockEndTime.multipliedBy(1e3).toNumber())||0)+6048e5),n=e.getTime()<(new Date).getTime();return{time:e,isAfterBurning:n}}(),Le=(0,fe.Kn)(N),Ke=(0,fe.Kn)(U),Me=(0,d.useMemo)((function(){return D||T?(0,xe.jS)(Ke,F):(0,xe.jS)(Le,F)}),[Le,D,F,Ke,T]),ze=(0,le.yA)(Me,!1,!0).onApprove,Ee=(0,d.useCallback)((0,ie.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,ze();case 4:C(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[ze]),Ie=(0,A.jsx)(Tn,{mt:"8px",fullWidth:!0,disabled:Z||j.pathname.includes("archived"),onClick:Ee,children:"Approve Contract"}),Oe=(0,A.jsx)(Bn,{value:_}),We=(0,A.jsx)(Bn,{value:J}),Re=(0,A.jsx)(Bn,{value:V.toNumber()}),qe=(0,A.jsx)(Bn,{value:Y.toNumber()});var Qe=((null===q||void 0===q||null===(f=q.lockEndTime)||void 0===f?void 0:f.toNumber())||0)-((null===q||void 0===q||null===(b=q.lockStartTime)||void 0===b?void 0:b.toNumber())||0),Ve=se(Qe),Xe=Math.floor(Qe/604800),Ge=(0,d.useMemo)((function(){return function(e,n){if(null!==e&&void 0!==e&&e.lastDepositedTime){var a,i=null===e||void 0===e?void 0:e.lastDepositedTime.plus((null===n||void 0===n||null===(a=n.fees)||void 0===a?void 0:a.withdrawalFeePeriod)||0).minus(Math.floor((new Date).getTime()/1e3));return i.toNumber()>0?i.toNumber():0}return 0}(q,L)}),[L,q]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Dn,{style:{flex:"40%"},children:(0,A.jsx)(_e.sX,{children:X||G?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsx)(_e.O6,{style:{flex:"50%"},children:(0,A.jsxs)("div",{children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.Dx,{children:"RECENT CUB PROFIT"})}),(0,A.jsxs)(_e.X6,{children:[Oe,"CUB"]}),(0,A.jsxs)(_e.v7,{children:["~",We,"USD"]})]})}),(0,A.jsx)(_e.O6,{style:{flex:"50%"},children:(0,A.jsxs)("div",{children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.Dx,{children:"YIELD BOOST"})}),(0,A.jsx)(_e.O6,{children:(0,A.jsxs)("div",{children:[(0,A.jsxs)(x.X6,{color:"text",size:"md",children:[new(l())(Ve.toString()).toFixed(3)||"0","x"]}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["Lock for ",Xe," week",1!==Xe?"s":""]})]})})]})})]})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.Dx,{children:"RECENT CUB PROFIT"})}),(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)("div",{style:{width:"50%",flex:"50% 0 0"},children:[(0,A.jsxs)(_e.X6,{children:[Oe,"CUB"]}),(0,A.jsxs)(_e.v7,{children:["~",We,"USD"]})]}),(0,A.jsx)("div",{style:{width:"50%",flex:"50% 0 0"},children:0===Ge&&H?(0,A.jsx)(x.xv,{children:"No unstaking fee"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(x.xv,{children:["0.1% unstaking fee ",H?"before":"if withdrawn within 72h"]}),H?(0,A.jsx)(jn,{secondsRemaining:Ge}):null]})})]})]})})}),(0,A.jsx)(Dn,{style:{flex:"40%"},children:(0,A.jsx)(_e.sX,{style:{maxHeight:"150px",marginBottom:"10px"},children:function(){var e,n,a,i,t,r,d,c,o;return ue?H?X?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,A.jsxs)(_e.Ad,{children:[(0,A.jsx)(_e.Dx,{children:"CUB "}),(0,A.jsx)(_e.dr,{children:"LOCKED"})]}),(0,A.jsxs)(_e.O6,{style:{display:"block"},children:[(0,A.jsx)(x.X6,{color:"text",size:"md",children:Re}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["~",qe," USD"]}),(0,A.jsx)(Tn,{mt:"8px",fullWidth:!0,style:{width:"100%"},disabled:j.pathname.includes("archived"),onClick:he,children:"Add CUB"})]})]}),(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.dr,{style:{color:"lightgray"},children:"UNLOCKS IN"})}),(0,A.jsxs)(x.X6,{color:"text",size:"md",mb:"8px",children:[(0,Ye.Z)(new Date(1e3*((null===q||void 0===q||null===(e=q.lockEndTime)||void 0===e?void 0:e.toNumber())||0)),{addSuffix:!0}).replace(/^in /,"")," ",(0,A.jsx)("abbr",{title:"After Burning starts at ".concat((0,He.Z)(new Date(1e3*((null===q||void 0===q||null===(n=q.lockEndTime)||void 0===n?void 0:n.toNumber())||0)+6048e5),"MMM dd yyyy, HH:mm"),". You need to renew your fix-term position, to initiate a new lock or convert your staking position to flexible before it starts. Otherwise all the rewards will be burned within the next 90 days."),children:"?"})]}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["On ",(0,He.Z)(new Date(1e3*((null===q||void 0===q||null===(a=q.lockEndTime)||void 0===a?void 0:a.toNumber())||0)),"MMM dd yyyy, HH:mm")]}),(0,A.jsx)(Tn,{mt:"8px",fullWidth:!0,disabled:j.pathname.includes("archived"),onClick:ye,children:"Extend"})]})]})}):G?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,A.jsxs)(_e.Ad,{children:[(0,A.jsx)(_e.Dx,{children:"CUB "}),(0,A.jsx)(_e.dr,{children:"LOCKED"})]}),(0,A.jsxs)(_e.O6,{style:{display:"block"},children:[(0,A.jsx)(x.X6,{color:"text",size:"md",children:Re}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["~",qe," USD"]})]})]}),(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.dr,{style:{color:"lightgray"},children:"UNLOCKS IN"})}),(0,A.jsxs)(x.X6,{color:"warning",size:"md",children:["Unlocked\xa0",(0,A.jsx)("abbr",{title:"After Burning starts at ".concat((0,He.Z)(new Date(1e3*((null===q||void 0===q||null===(i=q.lockEndTime)||void 0===i?void 0:i.toNumber())||0)+6048e5),"MMM dd yyyy, HH:mm"),". You need to renew your fix-term position, to initiate a new lock or convert your staking position to flexible before it starts. Otherwise all the rewards will be burned within the next 90 days."),children:"?"})]}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["On ",(0,He.Z)(new Date(1e3*((null===q||void 0===q||null===(t=q.lockEndTime)||void 0===t?void 0:t.toNumber())||0)),"MMM dd yyyy, HH:mm")]})]}),Fe.isAfterBurning?(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.dr,{style:{color:"lightgray"},children:"AFTER BURNING"})}),(0,A.jsx)(x.xv,{color:"failure",bold:!0,children:(null===q||void 0===q||null===(r=q.overdueFee)||void 0===r?void 0:r.toNumber())>0&&(null===k||void 0===k?void 0:k.autoCakeToDisplay)>0?"".concat(null===q||void 0===q||null===(d=q.overdueFee)||void 0===d||null===(c=d.div(P.o3))||void 0===c?void 0:c.toNumber().toFixed(3)," CUB Burned"):"-"})]}):(0,A.jsxs)(_e.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(_e.Ad,{children:(0,A.jsx)(_e.dr,{style:{color:"lightgray"},children:"AFTER BURNING IN"})}),(0,A.jsx)(x.X6,{color:"failure",size:"md",mb:"8px",children:(0,A.jsx)(Zn,{lockEndTime:(null===q||void 0===q||null===(o=q.lockEndTime)||void 0===o?void 0:o.toString())||"0"})})]})]})}):(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(_e.O6,{style:{flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start"},children:[(0,A.jsxs)(_e.Ad,{style:{flex:"100%"},children:[(0,A.jsx)(_e.Dx,{children:"CUB "}),(0,A.jsx)(_e.dr,{children:"STAKED"})]}),(0,A.jsx)(_e.O6,{style:{display:"flex"},children:(0,A.jsxs)("div",{style:{display:"block"},children:[(0,A.jsx)(x.X6,{color:"text",size:"md",children:Re}),(0,A.jsxs)(x.xv,{fontSize:"12px",color:"textSubtle",children:["~",qe," USD"]})]})})]}),(0,A.jsxs)(_e.O6,{style:{alignSelf:"flex-end"},children:[(0,A.jsx)(Tn,{mt:"8px",style:{backgroundColor:"transparent",border:"2px solid #F2F2F2"},disabled:j.pathname.includes("archived"),onClick:Ue,children:"-"}),(0,A.jsx)(Tn,{mt:"8px",style:{backgroundColor:"transparent",border:"2px solid #F2F2F2",marginLeft:"10px"},disabled:j.pathname.includes("archived"),onClick:Pe,children:"+"})]})]})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(_e.Ad,{children:[(0,A.jsx)(_e.Dx,{children:"STAKE "}),(0,A.jsx)(_e.dr,{children:"CUB"})]}),(0,A.jsxs)(_e.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsx)(Tn,{mt:"8px",fullWidth:!0,onClick:Te,children:"Flexible"}),(0,A.jsx)("div",{style:{width:"10%"}}),(0,A.jsx)(Tn,{mt:"8px",fullWidth:!0,onClick:Ne,children:"Locked"}),(0,A.jsx)("div",{style:{width:"100%",flex:"100% 0 0"},children:(0,A.jsx)(x.xv,{children:(0,A.jsx)("abbr",{title:"Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.",children:"What's the difference?"})})})]})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(_e.Ad,{children:[(0,A.jsx)(_e.Dx,{children:"ENABLE "}),(0,A.jsx)(_e.dr,{children:"POOL"})]}),(0,A.jsx)(_e.O6,{children:Ie})]})}()})}),(0,A.jsx)("div",{className:"col"}),G&&!X?(0,A.jsx)(pn.ZP,{style:{marginTop:"10px",flex:"100% 1 1"},variant:"warning",actionInline:!0,action:(0,A.jsxs)(x.kC,{flexGrow:1,style:{justifyContent:"flex-end"},children:[(0,A.jsx)(Tn,{variant:"primary",onClick:Ze,disabled:j.pathname.includes("archived"),children:"Renew"}),(0,A.jsx)(Tn,{variant:"secondary",style:{marginLeft:"10px"},onClick:ve,disabled:j.pathname.includes("archived"),children:"Convert To Flexible"})]}),children:(0,A.jsx)(x.xv,{children:"Renew your staking position to continue earning CUB rewards."})}):H&&!X?(0,A.jsx)(pn.ZP,{style:{marginTop:"10px",flex:"100% 1 1"},variant:"warning",actionInline:!0,action:(0,A.jsx)(x.kC,{flexGrow:1,style:{justifyContent:"flex-end"},children:(0,A.jsx)(Tn,{variant:"primary",onClick:je,disabled:j.pathname.includes("archived"),children:"Convert to Lock"})}),children:(0,A.jsxs)(x.xv,{children:["Lock staking users are earning up to ",new(l())(de).toFixed(2),"% APY."]})}):null]})},Mn=a(57923),zn=a.n(Mn),En=a(70218),In=a(99389),On=(0,g.memoize)((function(e){return Ee.x.pow(e)})),Wn=function(e){var n=new Date,a=(0,wn.Z)(n,e);return(0,In.Z)(new Date(a),n,{roundingMethod:"round"})};function Rn(e,n,a,i){var t=a.times(P.o3),r=e.times(P.o3),c=(0,d.useMemo)((function(){var e=t.minus(r).div(i).times(P.o3),a=n.minus(e),d=r.div(i).times(P.o3);return a.div(d).minus(1).times(new(l())(on.A0.toString())).div(new(l())(on.xt.toString()).div(On(12))).toFixed(0)}),[r,t,i,n]);return{avgLockDurationsInWeeks:(0,d.useMemo)((function(){return e=c,(0,En.Z)({weeks:Wn(e)});var e}),[c]),avgLockDurationsInSeconds:zn()(c)}}var qn,Qn,Vn,Yn,Hn,Xn,Gn,$n,_n,Jn,ea,na,aa,ia,ta=f.ZP.div(Nn||(Nn=(0,r.Z)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"]))),ra=f.ZP.div(An||(An=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),da=f.ZP.div(Un||(Un=(0,r.Z)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),ca=(0,f.ZP)(x.rU)(Fn||(Fn=(0,r.Z)(["\n  font-weight: 400;\n"]))),oa=(f.ZP.div(Ln||(Ln=(0,r.Z)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),function(e){var n,a,i,t,r,c=e.farm,o=e.walletBalance,s=e.depositBalance,u=e.rewardBalance,f=e.walletBalanceQuoteValue,b=e.depositBalanceQuoteValue,m=(e.farmName,e.oneTokenQuoteValue),h=(e.removed,e.aprApy),v=e.account,p=e.cakePrice,g=e.bnbDividends,k=e.cakeVaultEarnings,j=(m&&"NaN"!==m.toString()&&"~$".concat(m.times(P.o3).toFixed(2)),c.lpSymbol),w=c.multiplier,y=c.quoteToken,S=c.token,Z=c.lpAddresses,C=c.isTokenOnly,D=c.isKingdomToken,T=c.kingdomContract,B=(c.altPid,j&&j.toUpperCase().replace("PANCAKE",""),(0,ne.Z)({quoteTokenAddress:y.address,tokenAddress:S.address})),N=Z[56],U=S.address[56],F=("https://bscscan.com/token/".concat(C||D?U:N),"https://bscscan.com/address/".concat(T)),L="https://pancakeswap.info/pair/".concat(C?U:N),K=Rn(new(l())((null===c||void 0===c||null===(n=c.lockedKingdomData)||void 0===n?void 0:n.totalLockedAmount)||0),new(l())((null===c||void 0===c||null===(a=c.lockedKingdomData)||void 0===a?void 0:a.totalShares)||0),new(l())((null===c||void 0===c||null===(i=c.lockedKingdomData)||void 0===i?void 0:i.totalBalance)||0),new(l())((null===c||void 0===c||null===(t=c.lockedKingdomData)||void 0===t?void 0:t.pricePerFullShare)||0)),M=(0,d.useMemo)((function(){var e,n;return null!==c&&void 0!==c&&null!==(e=c.lockedKingdomData)&&void 0!==e&&e.totalLockedAmount?new(l())(null===c||void 0===c||null===(n=c.lockedKingdomData)||void 0===n?void 0:n.totalLockedAmount).toFixed(0):0}),[null===c||void 0===c||null===(r=c.lockedKingdomData)||void 0===r?void 0:r.totalLockedAmount]),z=P.LJ,E="".concat(P.nd,"/swap/").concat(S.address[56]),I="".concat(z,"/").concat(B);"Bakery"===c.farmType?(z=P.sl,I="".concat(z,"/").concat(B),L="https://info.bakeryswap.org/#/pair/".concat(C?U:N)):"Belt"===c.farmType&&(I=z=P.N9,E=z,L=z);var O=w;return h.newMultiplier&&(O="".concat(h.newMultiplier,"*")),(0,A.jsx)(da,{children:(0,A.jsxs)(ta,{className:"k-details",style:{flexWrap:"wrap"},children:[(0,A.jsxs)(ra,{style:{width:"20%"},children:[(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Total locked:"}),(0,A.jsx)(x.xv,{children:(0,A.jsx)(ee,{value:Number(M),fontSize:"md",decimals:0,unit:" CUB"})})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:(0,A.jsx)("abbr",{title:"The average lock duration of all the locked staking positions of other users",children:"Avg. Lock Duration:"})}),(0,A.jsx)(x.xv,{children:K.avgLockDurationsInWeeks})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Multiplier:"}),(0,A.jsx)(x.xv,{children:O})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Performance Fee:"}),(0,A.jsx)(x.xv,{children:"0~2%"})]}),(0,A.jsx)(ca,{external:!0,href:L,children:"See Token Info"}),(0,A.jsx)(ca,{external:!0,href:F,children:"See Contract"}),(0,A.jsx)(ca,{external:!0,href:E,children:"Buy ".concat(S.symbol)})]}),(0,A.jsx)(Kn,{farm:c,aprApy:h,walletBalance:o,depositBalance:s,rewardBalance:u,walletBalanceQuoteValue:f,depositBalanceQuoteValue:b,addLiquidityUrl:I,account:v,cakeVaultEarnings:k,cakePrice:p,bnbDividends:g})]})})}),sa=f.ZP.div(qn||(qn=(0,r.Z)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),la=f.ZP.div(Qn||(Qn=(0,r.Z)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),ua=a(59020),xa=f.ZP.div(Vn||(Vn=(0,r.Z)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),fa=f.ZP.div(Yn||(Yn=(0,r.Z)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),ba=(0,f.F4)(Hn||(Hn=(0,r.Z)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),ma=f.ZP.div(Xn||(Xn=(0,r.Z)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),ba),ha=(0,f.ZP)(x.Ee)(Gn||(Gn=(0,r.Z)(["\n  width: 64px;\n"]))),va=f.ZP.div($n||($n=(0,r.Z)(["\n  cursor: pointer;\n"]))),pa=function(e){var n,a,i=e.farm,r=e.removed,c=e.cakePrice,o=e.account,s=(e.bakePrice,e.beltPrice,e.cubDen,e.realCakePrice,e.bnbDividends),u=(0,d.useState)(!1),f=(0,t.Z)(u,2),b=f[0],m=f[1],h=(0,d.useState)(null),v=(0,t.Z)(h,2),p=v[0],g=v[1];(0,d.useEffect)((function(){var e,n,a,t,r,d,s,u,x,f,b;null!==i&&void 0!==i&&null!==(e=i.userData)&&void 0!==e&&e.lockedKingdomUserData&&g((0,ua.UN)(o,new(l())(null===i||void 0===i||null===(n=i.userData)||void 0===n||null===(a=n.lockedKingdomUserData)||void 0===a?void 0:a.tokenAtLastUserAction).times(P.o3),new(l())(null===i||void 0===i||null===(t=i.userData)||void 0===t||null===(r=t.lockedKingdomUserData)||void 0===r?void 0:r.shares),new(l())(null===i||void 0===i?void 0:i.lockedKingdomData.pricePerFullShare),c.toNumber(),new(l())(null===i||void 0===i||null===(d=i.userData)||void 0===d||null===(s=d.lockedKingdomUserData)||void 0===s?void 0:s.performanceFee).plus(new(l())(null===i||void 0===i||null===(u=i.userData)||void 0===u||null===(x=u.lockedKingdomUserData)||void 0===x?void 0:x.overdueFee)).plus(new(l())(null===i||void 0===i||null===(f=i.userData)||void 0===f||null===(b=f.lockedKingdomUserData)||void 0===b?void 0:b.userBoostedShare))))}),[o,c,null===i||void 0===i||null===(n=i.lockedKingdomData)||void 0===n?void 0:n.pricePerFullShare,null===i||void 0===i||null===(a=i.userData)||void 0===a?void 0:a.lockedKingdomUserData]);var k,j=i.lpTotalInQuoteToken,w=i.lpSymbol,y=i.lpTokenBalancePCS,S=void 0===y?0:y,Z=i.lpTotalInQuoteTokenPCS,D=void 0===Z?0:Z,T=i.quoteToken.busdPrice,B=i.farmType,N=i.token.busdPrice,U=w.split(" ")[0].toLocaleLowerCase(),F=i.userData,L=F.tokenBalance,K=F.stakedBalance,M=(F.earnings,L?(0,C.mW)(new(l())(L)):0),z=K?(0,C.mW)(new(l())(K)):0,E=null!==p&&void 0!==p&&p.autoCakeToDisplay?(0,C.mW)(new(l())(null===p||void 0===p?void 0:p.autoCakeToDisplay).times(P.o3)):0,I=new(l())(N);k=i.isKingdomToken?"Belt"!==i.farmType?I.div(P.o3):new(l())(i.token.busdPrice).div(P.o3):D?new(l())(D).div(new(l())(S)).times(T).div(P.o3):new(l())(0);var O=L?new(l())(L).times(k).toNumber():0,W=K?new(l())(K).times(k).toNumber():0,R=j&&"NaN"!==j?"$".concat(Number(new(l())(j).times(T)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",q=mn({duration:31449600,tvl:R}),Q=q.flexibleApy,V=q.lockedApy;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(la,{}),(0,A.jsxs)(fa,{children:["CUB"===i.token.symbol&&(0,A.jsx)(ma,{}),(0,A.jsxs)(va,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return m(!b)},children:[(0,A.jsx)("div",{className:"col",children:(0,A.jsx)(ha,{src:"/images/farms/".concat(U,".png"),alt:w,width:64,height:64})}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.kC,{justifyContent:"flex-start",alignItems:"center",children:(0,A.jsx)(x.xv,{className:"token",children:w})}),(0,A.jsxs)(x.xv,{children:["Uses: ",B]}),(0,A.jsxs)(x.xv,{children:["TVL ",R]})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:M,decimals:M?2:1,unit:"",color:M?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Balance"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:z,decimals:z?2:1,unit:"",color:z?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Deposited"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:E,decimals:E?2:1,unit:"",color:E?"warning":"text"}),(0,A.jsx)(x.xv,{children:"Rewards"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.xv,{color:"warning",children:"Up to"}),(0,A.jsx)(ee,{fontSize:"16px",value:Number.isNaN(Number(V))?0:Number(V),decimals:2,unit:"%",color:"warning"}),(0,A.jsx)(x.xv,{color:"warning",children:"APY"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(x.xv,{children:"Flexible"}),(0,A.jsx)(ee,{fontSize:"16px",value:Number.isNaN(Number(Q))?0:Number(Q),decimals:2,unit:"%"}),(0,A.jsx)(x.xv,{children:"APY"})]})]}),(0,A.jsxs)(xa,{expanded:b,children:[(0,A.jsx)(sa,{}),(0,A.jsx)(oa,{farm:i,walletBalance:M,depositBalance:z,cakeVaultEarnings:p,rewardBalance:E,walletBalanceQuoteValue:O,depositBalanceQuoteValue:W,farmName:B,oneTokenQuoteValue:k,removed:r,aprApy:q,account:o,cakePrice:c,bnbDividends:s})]})]})]})},ga=f.ZP.div(_n||(_n=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ka=f.ZP.div(Jn||(Jn=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),x.xv),ja=f.ZP.div(ea||(ea=(0,r.Z)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),x.xv),wa=f.ZP.div(na||(na=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ya=f.ZP.div(aa||(aa=(0,r.Z)(["\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Sa=f.ZP.div(ia||(ia=(0,r.Z)(["\n  max-width: 400px;\n"]))),Za=function(){var e=(0,c.$B)().path,n=(0,m.pQ)(),a=(0,c.TH)().pathname,r=(0,m.E2)().data,s=(0,d.useState)(""),f=(0,t.Z)(s,2),C=f[0],P=f[1],D=(0,u.Ge)().account,T=(0,d.useState)("hot"),B=(0,t.Z)(T,2),N=B[0],U=B[1],F=(0,m.Iu)(),L=(0,m.Pu)("CAKE")||new(l())(0),K=(0,m.Pu)("BAKE-BNB LP"),M=(0,m.Pu)("BELT-BNB LP"),z=(0,m.f6)(12),E=(0,Z.Z)()||{},I=(0,o.T)(),O=(0,h.Z)().fastRefresh;(0,d.useEffect)((function(){D&&I((0,v.IV)(D))}),[D,I,O]);var W=a.includes("archived"),R=a.includes("history"),q=!R&&!W,Q=(0,d.useState)(!q),V=(0,t.Z)(Q,2),Y=V[0],H=V[1];(0,d.useEffect)((function(){H(!q)}),[q]),(0,d.useEffect)((function(){I((0,w.I2)(W)),W&&(I((0,w.eG)()),D&&I((0,v.IV)(D)))}),[W,I,D]);var X=r.filter((function(e){return e.isKingdom&&!["0X","0.0X"].includes(e.multiplier)&&!(0,k.Z)(e.pid)})),G=r.filter((function(e){return e.isKingdom&&["0X","0.0X"].includes(e.multiplier)&&!(0,k.Z)(e.pid)})),$=r.filter((function(e){return(0,k.Z)(e.pid)})),_=X.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),J=G.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),ee=$.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),ne=(0,d.useCallback)((function(e){var n=e.map((function(e){if(!e.lpTotalInQuoteToken)return e;var n=e.quoteToken.busdPrice,a=new(l())(e.lpTotalInQuoteToken).times(n),t=q?(0,p.yW)(e.poolWeight,F,a):0;return(0,i.Z)((0,i.Z)({},e),{},{apr:t,liquidity:a})}));if(C){var a=C.toLowerCase();n=n.filter((function(e){return e.lpSymbol.toLowerCase().includes(a)}))}return n}),[F,C,q]),ae=(0,d.useRef)(null),ie=(0,d.useState)(20),te=(0,t.Z)(ie,2),re=te[0],de=te[1],ce=(0,d.useState)(!1),oe=(0,t.Z)(ce,2),se=oe[0],le=oe[1],ue=(0,d.useMemo)((function(){var e=[];return q&&(e=ne(Y?_:X)),R&&(e=ne(Y?J:G)),W&&(e=ne(Y?ee:$)),function(e){switch(N){case"apr":return(0,g.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return(0,g.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return(0,g.orderBy)(e,(function(e){return e.userData?e.userData.earnings:0}),"desc");case"liquidity":return(0,g.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,re)}),[N,X,ne,q,Y,_,re,R,J,G,W,ee,$]);(0,d.useEffect)((function(){se||(new IntersectionObserver((function(e){(0,t.Z)(e,1)[0].isIntersecting&&de((function(e){return e+20}))}),{rootMargin:"0px",threshold:1}).observe(ae.current),le(!0))}),[ue,se]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(j.Z,{children:[(0,A.jsxs)("div",{className:"k-header",children:[(0,A.jsx)(x.X6,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),(0,A.jsxs)(x.kC,{children:[(0,A.jsx)(x.xv,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),(0,A.jsx)(ze,{fontSize:"24px",value:n.toNumber(),prefix:"$",decimals:2})]})]}),(0,A.jsx)(x.X6,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),(0,A.jsx)(x.X6,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),(0,A.jsx)(x.X6,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),(0,A.jsx)(x.X6,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),(0,A.jsxs)(Sa,{children:[(0,A.jsx)(x.X6,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),(0,A.jsx)(x.xv,{children:"3%"})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Management Fee:"}),(0,A.jsx)(x.xv,{children:"7%"})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"CUB Burn Rate:"}),(0,A.jsx)(x.xv,{children:"100% of Fees Buyback and Burn CUB"})]}),(0,A.jsxs)(x.kC,{justifyContent:"space-between",children:[(0,A.jsx)(x.xv,{children:"Withdrawal Fee:"}),(0,A.jsx)(x.xv,{children:"None"})]})]})]}),(0,A.jsxs)(b.Z,{className:"k-container",children:[(0,A.jsx)(We,{farms:ue,cakePrice:F,bakePrice:K,beltPrice:M,cubDen:z}),(0,A.jsxs)(ga,{children:[(0,A.jsxs)(ya,{children:[(0,A.jsxs)(ka,{children:[(0,A.jsx)(x.ZD,{checked:Y,onChange:function(){return H(!Y)},scale:"sm"}),(0,A.jsx)(x.xv,{children:"Staked only"})]}),(0,A.jsx)(Qe,{hasStakeInFinishedFarms:J.length>0,hasStakeInArchivedFarms:ee.length>0})]}),(0,A.jsxs)(wa,{children:[(0,A.jsxs)(ja,{children:[(0,A.jsx)(x.xv,{children:"SORT BY"}),(0,A.jsx)(y.Z,{options:[{label:"Default",value:"default"},{label:"APR",value:"apr"},{label:"Multiplier",value:"multiplier"},{label:"Earned",value:"earned"},{label:"Liquidity",value:"liquidity"}],onChange:function(e){U(e.value)}})]}),(0,A.jsxs)(ja,{style:{marginLeft:16},children:[(0,A.jsx)(x.xv,{children:"SEARCH"}),(0,A.jsx)(S.Z,{onChange:function(e){P(e.target.value)}})]})]})]}),(0,A.jsx)("div",{id:"kingdoms",children:(0,A.jsxs)("div",{children:[(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(pa,{farm:e,cakePrice:F,account:D,removed:!1,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid):(0,A.jsx)(Ke,{farm:e,cakePrice:F,account:D,removed:!1,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid)}))}),(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e,"/history"),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(pa,{farm:e,cakePrice:F,account:D,removed:!0,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid):(0,A.jsx)(Ke,{farm:e,cakePrice:F,account:D,removed:!0,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid)}))}),(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e,"/archived"),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(pa,{farm:e,cakePrice:F,account:D,removed:!0,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid):(0,A.jsx)(Ke,{farm:e,cakePrice:F,account:D,removed:!0,bakePrice:K,beltPrice:M,cubDen:z,realCakePrice:L,bnbDividends:E},e.pid)}))})]})}),(0,A.jsx)("div",{ref:ae})]})]})}}}]);